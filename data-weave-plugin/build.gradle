sourceSets {
    main {
        java {
            srcDir 'src/main/gen'
        }
    }
}

repositories {
    maven {
        name "jetbrains-markdown"
        url "https://dl.bintray.com/jetbrains/markdown"
    }
    mavenLocal()
}

dependencies {
    testCompile 'junit:junit:4.+'

    compile("org.jetbrains:markdown:0.1.12")
    compile(group: 'org.mule.weave', name: 'debugger', version: weaveVersion)
    compile(group: 'org.mule.weave', name: 'parser', version: weaveVersion)
}

publishPlugin {
    username System.getenv('IJ_REPO_USERNAME')
    password System.getenv('IJ_REPO_PASSWORD')
    channels = [ijPluginRepoChannel]
}


intellij {
    pluginName = 'data-weave-plugin-v2'
    version = "LATEST-EAP-SNAPSHOT"
    updateSinceUntilBuild = false
    downloadSources = false
    sandboxDirectory = "${rootProject.buildDir}/idea-sandbox"
    plugins = ['maven', 'properties']

}
